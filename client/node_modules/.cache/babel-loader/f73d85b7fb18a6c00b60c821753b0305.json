{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\n\nconst calcTimeLeft = t => {\n  if (!t) return 0;\n  const left = t - new Date().getTime();\n  if (left < 0) return 0;\n  return left;\n};\n\nexport default function useCountdown(endTime) {\n  _s();\n\n  const [end, setEndTime] = useState(endTime);\n  const [timeLeft, setTimeLeft] = useState(() => calcTimeLeft(end));\n  useEffect(() => {\n    setTimeLeft(calcTimeLeft(end));\n    const timer = setInterval(() => {\n      const targetLeft = calcTimeLeft(end);\n      setTimeLeft(targetLeft);\n\n      if (targetLeft === 0) {\n        clearInterval(timer);\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [end]);\n  return [timeLeft, setEndTime];\n}\n\n_s(useCountdown, \"b3PgQP4hj+N/YOdHnHPWXMUfFVY=\");","map":{"version":3,"names":["useEffect","useState","calcTimeLeft","t","left","Date","getTime","useCountdown","endTime","end","setEndTime","timeLeft","setTimeLeft","timer","setInterval","targetLeft","clearInterval"],"sources":["C:/Users/adria/Desktop/mern-authentication/client/src/hooks/useCountdown.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst calcTimeLeft = (t) => {\r\n  if (!t) return 0;\r\n\r\n  const left = t - new Date().getTime();\r\n\r\n  if (left < 0) return 0;\r\n\r\n  return left;\r\n};\r\n\r\nexport default function useCountdown(endTime) {\r\n  const [end, setEndTime] = useState(endTime);\r\n  const [timeLeft, setTimeLeft] = useState(() => calcTimeLeft(end));\r\n\r\n  useEffect(() => {\r\n    setTimeLeft(calcTimeLeft(end));\r\n\r\n    const timer = setInterval(() => {\r\n      const targetLeft = calcTimeLeft(end);\r\n      setTimeLeft(targetLeft);\r\n\r\n      if (targetLeft === 0) {\r\n        clearInterval(timer);\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [end]);\r\n\r\n  return [timeLeft, setEndTime];\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,YAAY,GAAIC,CAAD,IAAO;EAC1B,IAAI,CAACA,CAAL,EAAQ,OAAO,CAAP;EAER,MAAMC,IAAI,GAAGD,CAAC,GAAG,IAAIE,IAAJ,GAAWC,OAAX,EAAjB;EAEA,IAAIF,IAAI,GAAG,CAAX,EAAc,OAAO,CAAP;EAEd,OAAOA,IAAP;AACD,CARD;;AAUA,eAAe,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;EAAA;;EAC5C,MAAM,CAACC,GAAD,EAAMC,UAAN,IAAoBT,QAAQ,CAACO,OAAD,CAAlC;EACA,MAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,MAAMC,YAAY,CAACO,GAAD,CAAnB,CAAxC;EAEAT,SAAS,CAAC,MAAM;IACdY,WAAW,CAACV,YAAY,CAACO,GAAD,CAAb,CAAX;IAEA,MAAMI,KAAK,GAAGC,WAAW,CAAC,MAAM;MAC9B,MAAMC,UAAU,GAAGb,YAAY,CAACO,GAAD,CAA/B;MACAG,WAAW,CAACG,UAAD,CAAX;;MAEA,IAAIA,UAAU,KAAK,CAAnB,EAAsB;QACpBC,aAAa,CAACH,KAAD,CAAb;MACD;IACF,CAPwB,EAOtB,IAPsB,CAAzB;IASA,OAAO,MAAMG,aAAa,CAACH,KAAD,CAA1B;EACD,CAbQ,EAaN,CAACJ,GAAD,CAbM,CAAT;EAeA,OAAO,CAACE,QAAD,EAAWD,UAAX,CAAP;AACD;;GApBuBH,Y"},"metadata":{},"sourceType":"module"}
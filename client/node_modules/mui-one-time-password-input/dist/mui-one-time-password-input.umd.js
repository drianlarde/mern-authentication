(function(a,f){typeof exports=="object"&&typeof module<"u"?f(exports,require("react"),require("@mui/material/Box"),require("@mui/material/styles"),require("@mui/material/TextField"),require("react/jsx-runtime")):typeof define=="function"&&define.amd?define(["exports","react","@mui/material/Box","@mui/material/styles","@mui/material/TextField","react/jsx-runtime"],f):(a=typeof globalThis<"u"?globalThis:a||self,f(a["mui-one-time-password-input"]={},a.React,a.Box,a.styles,a.TextField,a.jsxRuntime))})(this,function(a,f,R,k,E,m){"use strict";const x=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},D=x(f),N=x(R),q=x(E),K={TextFieldStyled:k.styled(q.default)`
  input {
    text-align: center;
  }
`},b=t=>m.jsx(K.TextFieldStyled,{...t}),y={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace"};function V(t,u){return t<=0?[]:Array.from({length:t},u)}function v(t,u,p){return t.map((i,o)=>u===o?p:i)}function O(t){return t.join("")}function A(t,u){return[...t,u]}function $(t,u,p){return t.reduce((i,o,g)=>{const{characters:d,restArrayMerged:h}=i;if(g<p)return{restArrayMerged:h,characters:A(d,o)};const[F,...I]=h;return{restArrayMerged:I,characters:A(d,F||"")}},{restArrayMerged:u,characters:[]}).characters}function L(t){return t.split("")}const S=D.default.forwardRef((t,u)=>{const{value:p,length:i,onChange:o,TextFieldsProps:g,onComplete:d,validateChar:h,className:F,...I}=t,{onPaste:Y,onFocus:W,onKeyDown:z,className:G,...H}=g||{},c=V(i,(e,n)=>({character:p[n]||"",inputRef:D.default.createRef()})),C=e=>c.findIndex(({inputRef:n})=>n.current===e),_=()=>c.map(({character:e})=>e),J=(e,n)=>{const r=v(_(),e,n);return O(r)},w=e=>{c[e]?.inputRef.current?.focus()},M=e=>{c[e]?.inputRef.current?.blur()},l=e=>{c[e]?.inputRef.current?.select()},T=e=>{e+1===i?M(e):c[e+1].character?l(e+1):w(e+1)},Q=e=>{e>0&&l(e-1)},U=e=>{const n=e.target.value[0]||"",r=C(e.target);if(typeof h=="function"&&!h(n,r))return;const s=J(r,n);o?.(s),s.length===i&&d?.(s),n!==""?s.length<i?T(s.length-1):T(r):s[r]?l(r):Q(r)},X=e=>{e.preventDefault(),e.target.select(),W?.(e)},Z=e=>{const n=e.target,r=C(n);n.value===e.key?(e.preventDefault(),T(r)):!n.value&&y.backspace===e.key||y.left===e.key?(e.preventDefault(),l(r-1)):y.right===e.key&&(e.preventDefault(),l(r+1)),z?.(e)},ee=e=>{e.preventDefault();const n=e.target,r=e.clipboardData.getData("text/plain"),s=C(n),te=_(),P=$(te,L(r),s),j=P.findIndex((re,ne)=>ne>s&&re===""),B=O(P);o?.(B),B.length===i&&d?.(B),j!==-1?w(j):M(s),Y?.(e)};return m.jsx(N.default,{display:"flex",gap:"20px",alignItems:"center",ref:u,className:`MuiOtpInput-Box ${F||""}`,...I,children:c.map(({character:e,inputRef:n},r)=>m.jsx(b,{autoComplete:"one-time-code",value:e,inputRef:n,className:`MuiOtpInput-TextField MuiOtpInput-TextField-${r+1} ${G||""}`,onPaste:ee,onFocus:X,onChange:U,onKeyDown:Z,...H},r))})});S.defaultProps={value:"",length:4,validateChar:()=>!0,onChange:()=>{},onComplete:()=>{},TextFieldsProps:{}},a.MuiOtpInput=S,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
